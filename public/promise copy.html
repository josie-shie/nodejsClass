<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        
        function myPromise(){
            return new Promise((resolve,reject)=>{
            const rnd = Math.random()*1500;
            setTimeout(function(){
                resolve('1:'+rnd);
            },rnd);
        });

        }
        //一定要呼叫async的function裡面才可以使用awaite
        
        (async()=>{

            const r1 = await myPromise();
            console.log(2,r1);
            console.log(3,r1);
            console.log(4,r1);
            console.log(5,r1);
            console.log(6,r1);


        })();

        
        
        
        // new Promise((resolve,reject)=>{
        //     const rnd = Math.random()*1500;
        //     setTimeout(function(){
        //         resolve('1:'+rnd);
        //     },rnd);
        // })
        // .then(r =>{
        //     console.log('r');
        //     return 7;
        //     //製造一個錯誤去讓catch接
        //     //throw new Error('my error')
        // })
        // //這裡的r會接受到上一個than回傳的值 7;
        // .then(r =>{
        //     console.log('r');
        //     return new Promise((resolve,reject)=>{
        //     const rnd = Math.random()*1500;
        //     setTimeout(function(){
        //         resolve('1:'+rnd);
        //     },rnd);
        // })
        // //這裡的r會接受到上一個than回傳的值'1:'+rnd;
        // .then(r =>{
        //     console.log('r');
        //     return 7;
            
        // })
        // .catch(error =>{
        //     console.log('err');
        // });

    </script>
</body>
</html>